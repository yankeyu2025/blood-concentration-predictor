# 血药浓度预测Web应用

基于机器学习的智能血药浓度风险评估系统，为临床医生提供辅助决策支持。

## 🌐 在线访问

**本地开发版本**: http://localhost:5000

**云端部署版本**: 请参考 [部署指南.md](部署指南.md) 将应用部署到云端，让全世界的用户都能访问！

## 🎯 功能特点

- **智能预测**: 基于6个关键临床特征进行血药浓度异常风险评估
- **医生友好**: 专为临床医生设计的直观界面和专业指导
- **高准确性**: 模型准确率达86.7%，AUC值0.888
- **实时分析**: 即时获得预测结果和临床建议
- **安全可靠**: 完整的输入验证和异常处理机制

## 📊 模型性能

- **准确率**: 86.7%
- **AUC值**: 0.888
- **特征数量**: 6个关键临床指标
- **训练数据**: 基于真实临床数据训练

## 🔧 使用的特征

1. **日剂量 (g)** - 患者每日服用的药物总剂量
2. **CLCR (mL/min)** - 肌酐清除率，反映肾功能状态
3. **GGT (U/L)** - 谷氨酰转肽酶，肝功能指标
4. **Na (mmol/L)** - 血钠浓度，电解质平衡指标
5. **HDL-C (mmol/L)** - 高密度脂蛋白胆固醇
6. **ALB (g/L)** - 白蛋白，营养状态和肝功能指标

## 🚀 快速开始

### 环境要求

- Python 3.8+
- 所需依赖包（见requirements.txt）

### 安装步骤

1. 克隆或下载项目文件
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```
3. 启动Web应用：
   ```bash
   python web_app.py
   ```
4. 在浏览器中访问：`http://localhost:5000`

## 📱 使用方法

1. **输入患者信息**: 在表单中填入6个关键临床指标
2. **获取预测结果**: 点击"开始预测"按钮
3. **查看分析报告**: 系统将显示：
   - 血药浓度异常风险评估
   - 异常概率百分比
   - 详细的临床建议
   - 各项指标的解读

## 🏥 临床应用

### 适用场景
- 血药浓度监测的辅助决策
- 高风险患者的早期识别
- 给药方案的优化参考
- 临床教学和培训

### 注意事项
- 本系统仅供临床参考，不能替代医生的专业判断
- 重要医疗决策请咨询专科医生
- 请确保输入数据的准确性
- 异常结果需结合临床实际情况分析

## 📁 项目结构

```
├── web_app.py              # Flask主应用文件
├── templates/              # HTML模板文件夹
│   ├── base.html          # 基础模板
│   ├── index.html         # 主页面
│   └── result.html        # 结果页面
├── web_models/            # 模型文件夹
│   ├── binary_model.pkl   # 训练好的模型
│   ├── scaler.pkl         # 特征缩放器
│   └── model_metadata.json # 模型元数据
├── requirements.txt       # 依赖包列表
└── README.md             # 项目说明文档
```

## 🔒 安全性

- 输入数据仅在本地处理，不会上传到外部服务器
- 完整的输入验证机制，防止无效数据
- 异常处理确保系统稳定运行
- 支持打印功能，便于保存结果

## 📞 技术支持

如有技术问题或建议，请联系开发团队。

---

**免责声明**: 本系统仅供医疗辅助参考，不能替代专业医疗诊断和治疗建议。使用本系统进行的任何医疗决策应当咨询合格的医疗专业人员。